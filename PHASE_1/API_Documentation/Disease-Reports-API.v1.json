{
  "openapi": "3.0.0",
  "info": {
    "title": "Disease-Reports-API",
    "version": "1.0",
    "description": "This API utilises a web scraper to extract data from http://outbreaknewstoday.com/ and the Australian state government websites to generate articles, disease reports and the restriction in place for each state. This API outputs articles in JSON format and the output can be filtered by adding additional parameters to the request.",
    "contact": {
      "name": "Brickwalls Team",
      "url": "https://github.com/allenwu564/SENG3011-Brickwalls/tree/main",
      "email": "z5205003@ad.unsw.edu.au"
    },
    "termsOfService": "https://github.com/allenwu564/SENG3011-Brickwalls/tree/main"
  },
  "servers": [
    {
      "url": "https://diseasereportapi.azurewebsites.net"
    }
  ],
  "paths": {
    "/articles": {
      "parameters": [],
      "get": {
        "summary": "Get disease report by id",
        "tags": [],
        "responses": {
          "200": {
            "description": "Articles retrieved",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/article"
                },
                "examples": {
                  "example-1": {
                    "value": {
                      "url": "http://outbreaknewstoday.com/typhoid-taiwan-reports-1st-domestic-case-of-2021/",
                      "date_of_publication": "2020-03-13",
                      "headline": "Typhoid: Taiwan reports 1st domestic case of 2021",
                      "main_text": "The Taiwan CDC reported Tuesday the first domestic case of typhoid fever in the country for 2021 which is an illness and outbreak.",
                      "reports": [
                        {
                          "diseases": [
                            "typhoid"
                          ],
                          "syndrome": [
                            "fever"
                          ],
                          "event_date": "2020-03-13",
                          "locations": [
                            "Taiwan"
                          ]
                        }
                      ]
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Invalid query",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/articlesError"
                },
                "examples": {
                  "example-1": {
                    "value": {
                      "timestamp": "2021-03-17",
                      "status": 400,
                      "error": "Bad Request",
                      "message": "Invalid query, please provide both start and end dates",
                      "path": "/articles",
                      "client request": "/articles?start=20190701&end=20200901&location=Sydney&keyterms=illness"
                    }
                  }
                }
              }
            }
          }
        },
        "operationId": "articles",
        "description": "Retrieve articles with the corresponding attributes from the passed parameters",
        "parameters": [
          {
            "schema": {
              "type": "string",
              "example": "20210703",
              "minLength": 8,
              "maxLength": 8,
              "pattern": "\\d{8}"
            },
            "in": "query",
            "name": "start",
            "description": "Is the start date for the range for collecting articles",
            "required": true
          },
          {
            "schema": {
              "type": "string",
              "minLength": 8,
              "maxLength": 8,
              "pattern": "\\d{8}",
              "example": "20000101"
            },
            "in": "query",
            "name": "end",
            "description": "Is the end date for the range for collecting the articles",
            "required": true
          },
          {
            "schema": {
              "type": "string",
              "minLength": 0,
              "example": "illness,outbreak"
            },
            "in": "query",
            "name": "keyterms",
            "description": "This input contains a comma separated list of all the key terms you want to get news about. This input can be empty or omitted in the case where the user doesnâ€™t want to restrict his search"
          },
          {
            "schema": {
              "type": "string",
              "minLength": 0,
              "example": "Sydney"
            },
            "in": "query",
            "name": "location",
            "description": "Is used to be able to search disease reports by a location name (city/country/state etc.), which is a string to be matched with the content in the disease report."
          }
        ]
      }
    }
  },
  "components": {
    "schemas": {
      "article": {
        "title": "article",
        "type": "object",
        "properties": {
          "url": {
            "type": "string"
          },
          "date_of_publication": {
            "type": "string"
          },
          "headline": {
            "type": "string"
          },
          "main_text": {
            "type": "string"
          },
          "reports": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "diseases": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  }
                },
                "syndrome": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  }
                },
                "event_date": {
                  "type": "string"
                },
                "locations": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  }
                }
              }
            }
          }
        }
      },
      "articlesError": {
        "title": "articlesError",
        "type": "object",
        "properties": {
          "timestamp": {
            "type": "string"
          },
          "status": {
            "type": "integer"
          },
          "error": {
            "type": "string"
          },
          "message": {
            "type": "string"
          },
          "path": {
            "type": "string"
          },
          "client_request": {
            "type": "string"
          }
        }
      }
    },
    "examples": {},
    "securitySchemes": {},
    "responses": {}
  }
}